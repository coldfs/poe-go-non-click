# Miss-Click Protector

Приложение на языке Go для защиты от лишних кликов при крафте в игре Path of Exile.

## Описание

Это десктопное приложение помогает предотвратить случайные клики мышью во время крафта предметов в Path of Exile. Программа отслеживает определенный пиксель на экране и при изменении его цвета на целевой автоматически перемещает мышь вверх и издает звуковой сигнал.

## Возможности

- **GUI интерфейс** на базе Fyne framework
- **Мониторинг пикселей** в реальном времени
- **Настраиваемые цвета** для отслеживания
- **Статистика** проверок и производительности
- **Горячие клавиши** для быстрого управления
- **Звуковые уведомления** при срабатывании
- **Автоматическое перемещение мыши** для предотвращения кликов

## Горячие клавиши

- **Numpad 4** - Запустить/остановить мониторинг
- **Numpad 5** - Выбрать пиксель под курсором и установить его цвет как целевой
- **Enter** - Выбрать пиксель (при использовании кнопки "Выбрать пиксель")

## Системные требования

- **ОС**: Windows (x64)
- **Компилятор**: TDM-GCC или MinGW-w64 с поддержкой CGO
- **Go**: версия 1.21 или выше

## Зависимости

Проект использует следующие библиотеки:

```go
require (
    fyne.io/fyne/v2 v2.6.2
    github.com/go-vgo/robotgo v0.110.8
    github.com/kbinani/screenshot v0.0.0-20250624051815-089614a94018
)
```

## Установка и компиляция

### 1. Установка TDM-GCC

1. Скачайте TDM-GCC с официального сайта: https://jmeubank.github.io/tdm-gcc/
2. Установите в папку `C:\work\tdm-gcc` (или другую по выбору)
3. Добавьте путь к компилятору в PATH или используйте команды ниже

### 2. Клонирование проекта

```bash
git clone <repository-url>
cd poe-go-non-click
```

### 3. Компиляция

#### Для разработки (с консолью):
```bash
export PATH="/c/work/tdm-gcc/bin:$PATH"
export CGO_ENABLED=1
go build -v -o dist/miss-click-protector.exe main.go
```

#### Для продакшена (без консоли):
```bash
export PATH="/c/work/tdm-gcc/bin:$PATH"
export CGO_ENABLED=1
go build -v -ldflags="-H windowsgui" -o dist/miss-click-protector.exe main.go
```

### 4. Запуск

```bash
./dist/miss-click-protector.exe
```

## Инструкция по использованию

1. **Запустите приложение** - откроется GUI интерфейс
2. **Выберите пиксель для мониторинга**:
   - Нажмите кнопку "Выбрать пиксель" и затем Enter на нужном пикселе, затем "Назначить цвет целевым"
   - Или используйте Numpad 5 для быстрого выбора пикселя и автоматической установки целевого цвета
4. **Начните мониторинг**:
   - Кнопка "Начать мониторинг" 
   - Или нажмите Numpad 4
5. **При срабатывании** приложение автоматически:
   - Издаст звуковой сигнал
   - Переместит мышь на 300 пикселей вверх
   - Остановит мониторинг

## Технические детали

- **Частота проверок**: каждые 10ms
- **Толерантность цвета**: ±5 по каждому RGB каналу
- **Требуемые совпадения**: 2 подряд для срабатывания
- **Перемещение мыши**: 300 пикселей вверх от текущей позиции

## Архитектура

- **main.go** - основной файл приложения
- **FyneApp** - структура приложения с GUI и логикой
- **Windows API** - используется для получения цвета пикселей и управления мышью
- **Thread Safety** - все GUI обновления из background goroutines используют `fyne.Do()`

## Безопасность

Приложение использует только Windows API для:
- Получения цвета пикселей экрана
- Получения и установки позиции курсора
- Проверки состояния клавиш
- Воспроизведения системных звуков

Никаких сетевых соединений или записи файлов не производится.

## Лицензия

Проект создан для личного использования при игре в Path of Exile.

## Поддержка

При возникновении проблем с компиляцией убедитесь, что:
1. TDM-GCC правильно установлен и доступен в PATH
2. Установлена переменная CGO_ENABLED=1
3. Используется совместимая версия Go (1.21+)
